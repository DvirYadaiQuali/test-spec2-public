kind: bluperint 
spec_version: 2

inputs:
  agent:
    type: agent
    
  repoUrl:
    type: string
    display-style: normal
    default: "http://github.com/QualiNext/test-spec2-public"
    description: "path to the repo to clone"

outputs:
  shell-output:
    value: '{{ .grains.shell.activities.deploy.commands.my_shell_script.outputs.output1 }}'
  # python-output:
  #   value: '{{ .grains.shell.activities.deploy.commands.my_python_script.output }}'

grains:
  shell:
    kind: shell
    spec:
      agent:
        name: '{{.inputs.agent}}'
      files:
        - source: test-spec2-public
          path: scripts/echo.sh
        - source: test-spec2-public
          path: scripts/echo.py
      env_vars:
        - VAR_NAME1: var1
      activities:
        deploy:
          commands:                                        
            - name: my_shell_script
              command: "source echo.sh"
              outputs:
                - output1
                - output2
            # - name: my_python_script
            #   command: "source python echo.py"
        destroy:
          commands:
            - echo "destroying"
