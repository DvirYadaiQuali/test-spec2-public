kind: bluperint 
spec_version: 2-preview


inputs:
  compute_service_name:
    type: agent
    
  repoUrl:
    type: string
    display-style: normal
    default: "http://github.com/QualiNext/test-spec2-public"
    description: "path to the repo to clone"

outputs:
  shell-output:
    value: '{{ .grains.shell.activities.deploy.commands.output1.output }}'

grains:
  shell1:
    kind: shell
    spec:
      agent:
        name: '{{.inputs.compute_service_name}}'
      files:
        - source: test-spec2-public
          path: scripts/echo.sh
      activities:
        deploy:
          commands:                                        
            - name: output1
              command: "./echo.sh"            
        destroy:
          commands:
            - echo "destroying"
